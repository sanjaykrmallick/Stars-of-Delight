<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <link href="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.css" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-app.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Merienda' rel='stylesheet'>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css">
    <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.6.1/firebase-analytics.js"></script>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="912554354337-fd3h7l16e99ahbgi2b433knfu9a99spa.apps.googleusercontent.com">
    <meta name="google-signin-client_id" content="912554354337-sibui0018aq8qug1cvk0bsrdd14go22e.apps.googleusercontent.com">

    <!-- Start of Firebase Configuration -->
    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyBif5HaltqQaSOJyJ6rB8mJSH0oyA7joYo",
            authDomain: "stars-of-delight.firebaseapp.com",
            databaseURL: "https://stars-of-delight.firebaseio.com",
            projectId: "stars-of-delight",
            storageBucket: "stars-of-delight.appspot.com",
            appId: "1:912554354337:web:3c07e9145eb78c8b5b32e0",
            messagingSenderId: "912554354337",
            measurementId: "G-ZLWH46GCSG",
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>
    <!-- End of Firebase Configuration -->

    <!-- Start of Athentication -->
    <script>
        var ui = new firebaseui.auth.AuthUI(firebase.auth());

        (function() {
            var uiConfig = {
                callbacks: {
                    signInSuccessWithAuthResult: function(authResult, redirectUrl) {
                        // User successfully signed in.
                        return true;
                    },
                    uiShown: function() {
                        // The widget is rendered.
                        // Hide the loader.
                        document.getElementById('loader').style.display = 'none';
                    }
                },
                // Will use popup for IDP Providers sign-in flow instead of the default, redirect.
                signInFlow: '',
                signInSuccessUrl: 'index copy.html',
                signInOptions: [
                    // Leave the lines as is for the providers you want to offer your users.
                    firebase.auth.GoogleAuthProvider.PROVIDER_ID,
                    firebase.auth.EmailAuthProvider.PROVIDER_ID,
                ],
                // Terms of service url.
                tosUrl: 'index copy.html'
            };
            ui.start("#firebaseui-auth-container", uiConfig);
        })()
    </script>
    <!-- End of Athentication -->

    <meta name="google-signin-client_id" content="912554354337-sibui0018aq8qug1cvk0bsrdd14go22e.apps.googleusercontent.com">

    <title>Stars Of Delight</title>
    <link rel="icon" href="images/logo.png">
</head>



<body data-spy="scroll" data-target=".navbar" data-offset="50">
    <div id="load" class="center"></div>
    <div id="contents">
        <div id="Welcome">
            <!---Start navigation Bar -->
            <nav class="navbar navbar-expand-lg navbar fixed-top  navbar-light bg-light">
                <a class="navbar-brand" href="#Welcome">
                    <img src="images/logo.png" width="50" height="50" class="d-inline-block" alt=""> Star's Of Delight
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
                <div class="collapse navbar-collapse" id="navbarText">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="#Welcome">Welcome</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#Menu">Menu</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#contact">Contact</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cart.html">Cart</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#signIn">Sign In</a>
                        </li>
                    </ul>
                </div>
            </nav>
            <!--- End Navigation Bar -->
            <!--- Start Carousel -->
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">

                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                </ol>

                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img class="d-block w-100 img-fluid img-slider" style="height:1000px" src="images/im1.jpg" alt="First slide">
                        <div class="carousel-caption">
                            <h2>Indian Cuisine</h2>
                            <p>. . .</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100 img-fluid img-slider" style="height:1000px" src="images/slider2.jpg" alt="Second slide">
                        <div class="carousel-caption">
                            <h2>Chinese Cuisine</h2>
                            <p>. . .</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img class="d-block w-100 img-fluid img-slider" style="height:1000px" src="images/moctail-content.jpg" alt="Third slide">
                        <div class="carousel-caption">
                            <h2>Mocktails</h2>
                            <p>. . .</p>
                        </div>
                    </div>
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>

                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>


        </div>

        <!--- Start of Menu-->
        <div class="row" id="Menu">
            <div class="col navMenu">
                <h2 class="text-center">~ Menu ~</h2>
            </div>
        </div>
        <div class="row bg-light">
            <div class="col-md-4" data-aos="slide-up">
                <div class="card view zoom">
                    <img class="card-img-top img-fluid " src="images/dessert.jpg">
                    <div class="card-body">
                        <h5 class="card-title">~ Desserts ~</h5>
                        <ul class="list-group list-group-flush" style="width:500px;height:500px;overflow: scroll;">
                            <form id="dessertMenu"> </form>
                            <li class="list-group-item" id='Desserts'> </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-4" data-aos="slide-up">
                <div class="card">
                    <img class="card-img-top img-fluid " src="images/chinese.jpg">
                    <div class="card-body">
                        <h5 class="card-title">~ Chinese Foods ~</h5>
                        <div class="list-group list-group-flush" style="width:500px;height:500px;overflow: scroll;">
                            <form id="ChineseMenu"> </form>
                            <li class="list-group-item" id='Chinese Foods'> </li>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4" data-aos="slide-up">
                <div class="card">
                    <img class="card-img-top img-fluid" src="images/milk-shake.jpeg">
                    <div class="card-body">
                        <h5 class="card-title">~ Milk Shake ~</h5>
                        <div class="list-group list-group-flush" style="width:500px;height:500px;overflow: scroll;">
                            <form id="shakeMenu"> </form>
                            <li class="list-group-item" id='Milk Shake'> </li>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <section>
            <div class="row bg-light">
                <div class="col-md-4" data-aos="slide-up">
                    <div class="card view zoom">
                        <img class="card-img-top img-fluid " src="images/pizza.jpeg">
                        <div class="card-body">
                            <h5 class="card-title">~ Pizza ~</h5>
                            <div class="list-group list-group-flush" style="width:500px;height:500px;overflow: scroll;">
                                <form id="pizzaMenu"> </form>
                                <li class="list-group-item" id='Pizza'> </li>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4" data-aos="slide-up">
                    <div class="card">
                        <img class="card-img-top img-fluid " src="images/soft-drink.jpg">
                        <div class="card-body">
                            <h5 class="card-title">~ Soft Drinks ~</h5>
                            <div class="list-group list-group-flush" style="width:500px;height:500px;overflow: scroll;">
                                <form id="drinks"> </form>
                                <li class="list-group-item" id='Soft Drinks'> </li>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4" data-aos="slide-up">
                    <div class="card">
                        <img class="card-img-top img-fluid" src="images/mocktail.jpg">
                        <div class="card-body">
                            <h5 class="card-title">~ Mocktails ~</h5>
                            <div class="list-group list-group-flush" style="width:500px;height:500px;overflow: scroll;">
                                <form id="mocktails"> </form>
                                <li class="list-group-item" id='Mocktail'> </li>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div id="signIn" class="overlay">
            <div class="popup">
                <h3>Sign In ...</h3>
                <a class="close" href="#">&times;</a>
                <div class="content" id="firebaseui-auth-container">
                    <div id="loader">Loading...</div>
                </div>
            </div>
        </div>

        <!-- foooter -->
        <footer class="footer-area" id="contact">
            <div class="container">
                <div class="row justify-content-between">
                    <div class="col-xl-3 col-sm-6 col-md-3 col-lg-3">
                        <div class="single-footer-widget footer_1">
                            <img src="images/logo.png" width="40" height="40" alt="#">
                            <p>+91-9113302144</p>
                            <span>sanjay.kumar@mediakind.com</span>
                            <div class="social_icon">
                                <a href="https://www.facebook.com/Projects-work-with-Sanjay-102712817915378/?modal=admin_todo_tour/" class="single_social_icon"><i class="fab fa-facebook-square"></i></a>
                                <a href="https://www.instagram.com/rubiktechnologies/" class="single_social_icon"><i
                                    class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-sm-6 col-md-2 col-lg-3">
                        <div class="single-footer-widget footer_2">
                            <h4>Quick links</h4>
                            <div class="col">
                                <ul>
                                    <li><a href="#Welcome">Welcome</a></li>
                                    <li><a href="#Menu"> Menu</a></li>
                                    <li><a href="#contact"> Contact</a></li>
                                    <li><a href="#signIn">Sign In</a></li>
                                </ul>
                            </div>
                        </div>

                    </div>
                </div>
        </footer>


        <script>
            document.onreadystatechange = function() {
                var state = document.readyState
                if (state == 'interactive') {
                    document.getElementById('contents').style.visibility = "hidden";
                } else if (state == 'complete') {
                    setTimeout(function() {
                        document.getElementById('interactive');
                        document.getElementById('load').style.visibility = "hidden";
                        document.getElementById('contents').style.visibility = "visible";
                    }, 1000);
                }
            }
        </script>


        <script>
            function test(docref, id) {
                docref.get().then(function(doc) {
                    if (doc.exists) {
                        let json = doc.data();
                        let keyName = [];

                        console.log("Document data:", json);
                        console.log("Document keys:", Object.keys(json));
                        keyName = Object.keys(json);

                        var listElement = document.getElementById(id);
                        for (var i = 0; i < keyName.length; i++) {
                            listItem = document.createElement('li');
                            listItem.innerHTML = keyName[i].toString() + '<p style="margin-left:2.5em"></p>' + " Rs " + '<label id="name">' + json[keyName[i]] + '</label>' + '<hr>';
                            let button = document.createElement('button');
                            button.addEventListener('click', myfunc)
                            button.innerHTML = "Orders";
                            button.style = "position: absolute; right: 0;";
                            button.setAttribute("data-key", json[keyName[i]] + "/" + keyName[i].toString());
                            listElement.appendChild(button);
                            listElement.appendChild(listItem);
                        }
                    } else {
                        // doc.data() will be undefined in this case
                        console.log("No such document!");
                    }
                }).catch(function(error) {
                    console.log("Error getting document:", error);
                });
            }

            db.collection('Restaurant').get().then(snap => {
                // will return the collection size
                createrRestaurant(snap);
                if (!localStorage.getItem("Cart")) {
                    localStorage.setItem("Cart", JSON.stringify([]));
                }
            });

            /*  Add items to cart */
            function addToCart(food, price, qty) {
                console.log("FOOD - " + food)
                var existing = JSON.parse(localStorage.getItem("Cart"));
                existing.push({
                    item: food,
                    cost: price,
                    qty: qty
                });
                localStorage.setItem("Cart", JSON.stringify(existing));
            }

            function myfunc(event) {
                let str = event.target.dataset.key;
                let price = str.split("/")[0];
                let food = str.split("/")[1];
                let qty = "1";
                console.log("Food : " + food + " -> " + "Price: ", price + " -> " + "Quantity: ", qty);
                alert("Your Order Added to Cart");
                addToCart(food, price, qty);
                showlocal();
            }

            function createrRestaurant(snap) {
                snap.forEach(collection => {
                    let ref = db.collection("Restaurant").doc(collection.id);
                    test(ref, collection.id);
                });
            }

            function showlocal() {
                var n;
                console.log("local storage");
                for (n = 0; n < localStorage.length; n++) {
                    console.log(localStorage.key(n) + "=" + localStorage.getItem(localStorage.key(n)) + "");
                }
            }
        </script>


        <script src="js/jquery-3.3.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
        <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
        <script type="text/javascript" src="js/smooth-scroll.js"></script>
        <script src="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.js"></script>
        <script type="text/javascript" src="js/image-effect.js"></script>

        </div>
</body>

</html>
